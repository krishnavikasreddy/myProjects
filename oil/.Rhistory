setwd("Documents/projects/R/oil")
library(data.table)
oil=fread("oil.ls")
oil=fread("oil.xls")
getwd()
fread("oil.xls")
read("oil.xls",1)
oil=fread("oil.csv")
oil
plot(oil)
plot(oil$`Rig Count`)
qqnorm(oil$`Rig Count`)
boxplot(oil$`Rig Count`)
qqnorm(oil$`Rig Count`)
cushing=fread("cushing.csv")
plot(cushing$`Weekly Cushing OK WTI Spot Price FOB Dollars per Barrel`)
qqnorm(cushing$`Weekly Cushing OK WTI Spot Price FOB Dollars per Barrel`)
data=data.table(oil,cushing)
data
week(oil$Date)
date(oil$Date)
merge(oil,cushing)
setnames(oil,c("date","rig"))
oil
setnames(cushing,c("date","price"))
merge(oil,cushing)
merge(oil,cushing,by="date")
oil
cushing
format(today, format="%B %d %Y")
format(Sys.Date(), format="%B %d %Y")
format(Sys.Date(), format="%d/%m/%Y")
oil$date=format(oil$date,format="%d/%m/%Y")
oil$date
cushing$date=format(cushing$date,format="%d/%m/%Y")
merge(oil,cushing)
merge(oil,cushing,by=date)
merge(oil,cushing,by="date")
oil
cushing
cushing$date=as.Date(cushing$date,format="%d/%m/%Y")
oil$date=as.Date(oil$date,format="%d/%m/%Y")
cushing
cushing=fread("cushing.csv")
setnames(cushing,c("date","price"))
as.Date(cushing$date)
dvik=cushing$date[1]
dvik
date(dvik)
as.Date(dvik)
dvik=cushing$date[2]
dvik
as.Date(dvik)
as.Date(dvik,"%m/%d/%yy")
as.Date(dvik,"%m/%d/%Y")
cushing$date=as.Date(cushing$date,format="%m/%d/%Y")
cushing
oil
oil=fread("oil.csv")
setnames(oil,c("date","rig"))
oil
oil$date=as.Date(oil$date,format="%Y/%m/%d")
oil
oil=fread("oil.csv")
oil=fread("oil.csv")
dvik=oil$Date[1]
dvik
oil$date=as.Date(oil$date,format="%Y-%m-%d")
as.Date(dvik)
oil$date=as.Date(oil$date)
oil=fread("oil.csv")
setnames(oil,c("date","rig"))
oil
merge(oil,cushing)
oil
cushing
cushing2015=cushing[year(cushing$date)=2015]
year(cushing$date)
cushing2015=cushing[year(cushing$date)==2015]
cushing2015
oil2015=oil[year(oil$date)==2015]
oil2015
head(cushing2015)
head(oil2015)
oil2015$week=week(oil$date)
oil2015$week=week(oil2015$date)
cushing2015$week=week(cushing2015$date)
head(oil2015)
head(cushing2015)
merge(oil2015,cushing2015,by="week")
data=merge(oil2015,cushing2015,by="week")
data
model=lm(price~rig,data = data)
model
summary(model)
plot(model)
summary(model)
plot(summary(model)$residuals)
qqnorm(summary(model)$residuals)
plot(summary(model)$residuals)
model=lm(price~log(rig),data = data)
model
summary(model)
qqplot(log(data))
qqplot(log(data$"treering"))
qqplot(log(data$rig))
data
data$rig
log(data$rig)
log(data$price)
model=lm(log(price)~log(rig),data = data)
model
summary(model)
